2025-05-29 20:04:35.191 +07:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-29 20:04:35.233 +07:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-29 20:04:35.301 +07:00 [INF] Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" character varying(150) NOT NULL,
    "ProductVersion" character varying(32) NOT NULL,
    CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY ("MigrationId")
);
2025-05-29 20:04:35.311 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-05-29 20:04:35.315 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-05-29 20:04:35.325 +07:00 [INF] Applying migration '20250529130254_InitialCreate'.
2025-05-29 20:04:35.355 +07:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Products" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "Name" character varying(100) NOT NULL,
    "Description" character varying(500) NOT NULL,
    "SKU" character varying(50) NOT NULL,
    "Price" numeric(18,2) NOT NULL,
    "Category" character varying(50) NOT NULL,
    "ImageUrl" text,
    "IsActive" boolean NOT NULL,
    "CreatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    "UpdatedAt" timestamp with time zone NOT NULL DEFAULT (CURRENT_TIMESTAMP),
    CONSTRAINT "PK_Products" PRIMARY KEY ("Id")
);
2025-05-29 20:04:35.362 +07:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ProductAttributes" (
    "Id" integer GENERATED BY DEFAULT AS IDENTITY,
    "ProductId" integer NOT NULL,
    "Name" character varying(50) NOT NULL,
    "Value" character varying(100) NOT NULL,
    CONSTRAINT "PK_ProductAttributes" PRIMARY KEY ("Id"),
    CONSTRAINT "FK_ProductAttributes_Products_ProductId" FOREIGN KEY ("ProductId") REFERENCES "Products" ("Id") ON DELETE CASCADE
);
2025-05-29 20:04:35.364 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Products" ("Id", "Category", "CreatedAt", "Description", "ImageUrl", "IsActive", "Name", "Price", "SKU", "UpdatedAt")
VALUES (1, 'Electronics', TIMESTAMPTZ '2025-05-29T13:02:54.119002Z', 'This is a sample product', NULL, TRUE, 'Sample Product', 99.99, 'SAMPLE-001', TIMESTAMPTZ '2025-05-29T13:02:54.119002Z');
2025-05-29 20:04:35.368 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ProductAttributes_ProductId" ON "ProductAttributes" ("ProductId");
2025-05-29 20:04:35.373 +07:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Products_SKU" ON "Products" ("SKU");
2025-05-29 20:04:35.376 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT setval(
    pg_get_serial_sequence('"Products"', 'Id'),
    GREATEST(
        (SELECT MAX("Id") FROM "Products") + 1,
        nextval(pg_get_serial_sequence('"Products"', 'Id'))),
    false);
2025-05-29 20:04:35.378 +07:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20250529130254_InitialCreate', '8.0.0');
2025-05-29 20:41:52.896 +07:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-05-29 20:41:52.934 +07:00 [INF] User profile is available. Using 'C:\Users\ndvin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 20:41:52.943 +07:00 [INF] Creating key {972aa9de-a2ec-4b40-b063-24b2f04befa0} with creation date 2025-05-29 13:41:52Z, activation date 2025-05-29 13:41:52Z, and expiration date 2025-08-27 13:41:52Z.
2025-05-29 20:41:52.956 +07:00 [INF] Writing data to file 'C:\Users\ndvin\AppData\Local\ASP.NET\DataProtection-Keys\key-972aa9de-a2ec-4b40-b063-24b2f04befa0.xml'.
2025-05-29 20:41:52.994 +07:00 [INF] Now listening on: http://localhost:5001
2025-05-29 20:41:52.996 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 20:41:52.996 +07:00 [INF] Hosting environment: Production
2025-05-29 20:41:52.997 +07:00 [INF] Content root path: C:\Project\Warehouse_management\services\product-service
2025-05-29 20:42:19.772 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger - null null
2025-05-29 20:42:19.802 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger - 404 0 null 31.7782ms
2025-05-29 20:42:19.806 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5001/swagger, Response status code: 404
2025-05-29 21:20:20.507 +07:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT CASE WHEN COUNT(*) = 0 THEN FALSE ELSE TRUE END
FROM pg_class AS cls
JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
WHERE
        cls.relkind IN ('r', 'v', 'm', 'f', 'p') AND
        ns.nspname NOT IN ('pg_catalog', 'information_schema') AND
        -- Exclude tables which are members of PG extensions
        NOT EXISTS (
            SELECT 1 FROM pg_depend WHERE
                classid=(
                    SELECT cls.oid
                    FROM pg_class AS cls
                             JOIN pg_namespace AS ns ON ns.oid = cls.relnamespace
                    WHERE relname='pg_class' AND ns.nspname='pg_catalog'
                ) AND
                objid=cls.oid AND
                deptype IN ('e', 'x')
        )
2025-05-29 21:20:20.551 +07:00 [INF] User profile is available. Using 'C:\Users\ndvin\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-29 21:20:20.585 +07:00 [INF] Now listening on: http://localhost:5001
2025-05-29 21:20:20.586 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-29 21:20:20.586 +07:00 [INF] Hosting environment: Production
2025-05-29 21:20:20.586 +07:00 [INF] Content root path: C:\Project\Warehouse_management\services\product-service
2025-05-29 21:21:48.579 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5001/swagger - null null
2025-05-29 21:21:48.614 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5001/swagger - 404 0 null 35.9798ms
2025-05-29 21:21:48.617 +07:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5001/swagger, Response status code: 404
